<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="stylesheet" href="./style.css">
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>I am bussin it!!!</title>
  </head>
  <body style="background-color: white;">
    <nav id="container">
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="Leaderboard.html">Leaderboard</a></li>
      <li><a href="#contact">Login</a></li>
      <li><a href="About.html">About Us</a></li>
    </nav>
    <!-- <a id="s" href="https://discord.gg/hZ5HY4wh7B" target="_blank" rel="noopener noreferrer"></a><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="#5865F2"><path d="M13.545 2.907a13.2 13.2 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.2 12.2 0 0 0-3.658 0 8 8 0 0 0-.412-.833.05.05 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.04.04 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032q.003.022.021.037a13.3 13.3 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019q.463-.63.818-1.329a.05.05 0 0 0-.01-.059l-.018-.011a9 9 0 0 1-1.248-.595.05.05 0 0 1-.02-.066l.015-.019q.127-.095.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.05.05 0 0 1 .053.007q.121.1.248.195a.05.05 0 0 1-.004.085 8 8 0 0 1-1.249.594.05.05 0 0 0-.03.03.05.05 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.2 13.2 0 0 0 4.001-2.02.05.05 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.03.03 0 0 0-.02-.019m-8.198 7.307c-.789 0-1.438-.724-1.438-1.612s.637-1.613 1.438-1.613c.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612m5.316 0c-.788 0-1.438-.724-1.438-1.612s.637-1.613 1.438-1.613c.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612"></path>
      </svg>
    </a> -->
    <div id="animated-csss" >
      Login/signup to BUS-IN
    </div>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <button onclick="return sign()" id="start-button">Contact</button>
    <img src="https://static.thenounproject.com/png/178831-200.png" alt="" id="image">
        <form id="forms" name="form" style="margin-top: -200px;align-items: center; text-align: center; padding-top: 20em;">
            <div id="re" style="color: white; font-size: 1.5rem;">Login to Bus-in</div>
            <hr style="visibility: hidden;">
            <label style=" color: white; margin-left:-120px"id="un"for="username">Name:</label><br>
            <input minlength="6" style="border-radius: 20px; padding: 10px; border: 1px solid grey; outline: none;" value="" placeholder="Your Name" type="text" id="username" name="username" autocomplete="username"><br>
            <label style="color: white; margin-left:-123px" id="pw"for="password">Password:</label><br>
            <input style= "border-radius: 20px; border: 1px solid grey; outline: none; padding: 10px" required="" type="password" id="password" placeholder="Your Password" name="password" value="">
            <div id="div" style="text-align: center; color:red; display: none;">Password Cannot be Empty</div>
            <div id="pass" style="margin-left:-2px; color:red; display: none;">Username is Too Short!</div>
        </form>
        <div id="p" style="text-align: center; color:red; font-size: 1rem; display: none;">Please Enter your name</div>
        <hr style="visibility: hidden;">
        <div class="wrapper">
          <div id="fancybox"></div>
        </div>
    </body>
    <style>
      body{
        background-image: linear-gradient(90deg, rgb(255, 255, 255), black);
      }
      #fancybox{
        margin: 50px auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 23em;
        width: 34em;
        background-color: black;
        margin-left: 46em;
        margin-top: -14em;
        max-width: 600px;
        border-radius: 2em;
      }
      #animated-csss{
        font-size: 2rem;
        color: white;
        align-items: center;
        display: flex;
        justify-content: center;
        padding: 50px;
    }

      #image{
        margin-left: 57em;
      }
      #inedhelp{
        text-decoration: none;
        color: white
      }
      #start-button {
        position: absolute;
        margin-left: 71em;
        margin-top: 43em;
        height: 40px;
        width: 136px;
        border-radius: 30px;
        border: none;
        box-shadow: -3px -1px 20px 6px rgb(246, 246, 246);
        cursor: pointer;
        overflow: hidden;
        z-index: 1;
        background: none;
        color: white
      }

    #start-button::before,
    #start-button::after {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: 30px;
        z-index: -1;
        transition: opacity 1s ease;
    }

    #start-button::before {
        background-image: linear-gradient(60deg, red, black);
        opacity: 1;
    }

    #start-button::after {
        background-image: linear-gradient(60deg, black, red);
        opacity: 0;
    }

    #start-button:hover::before {
        opacity: 0;
    }

    #start-button:hover::after {
        opacity: 1;
    }
    #container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 1.2em;
      border-radius: .4em;
      padding: 10px 20px;
      background-image: linear-gradient(90deg, rgba(255, 29, 29, 0.473), rgba(0, 0, 0, 0.473));
      color: white;
    }
    @media screen and (max-width: 600px) {
      #fancybox {
          margin-left: -1em !important;
          margin-top: -15em !important;
          transition: margin 0.5s ease;
      }
      #start-button {
        margin-left: 12em !important;
        margin-top: 41em !important;
      }
    }
    /* @media screen and (min-width: 300px) {
      #fancybox {
          margin-left: 33em !important;
          margin-top: -17em !important;
      }
      #start-button {
        margin-left: 55em !important;
        margin-top: 40em !important;
      }
    } */
    </style>
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
  </body>
  <script>
    const form = document.getElementById("forms");
    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const username = document.getElementById("username").value.trim();
      const email = document.getElementById("password").value.trim(); // assuming this is your "email" field

      if (username.length < 6) {
        alert("Username too short");
        return;
      }

      try {
        const response = await fetch("http://localhost:8000/users", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            email,
            password: email, // Or get from a real password field
            nickname: username,
            cumulativeScore: 0
          }),
        });

        const data = await response.json();

        if (response.ok) {
          alert("User created successfully with ID: " + data.id);
          window.location.replace("home.html");
        } else {
          alert(data.error || "Error creating user");
        }
      } catch (error) {
        console.error("Fetch error:", error);
      }
    });
  </script>
</html>
